# äº‘ç­¾åˆ°
ä½¿ç”¨ PHP ç¼–å†™çš„ç®€æ˜“äº‘ç­¾åˆ°å·¥å…·ï¼Œåªé€‚åˆä¸ªäººä½¿ç”¨ï¼Œä¸éœ€è¦æ•°æ®åº“ï¼Œæš‚æ—  UI  

## ç‰¹æ€§
* æ”¯æŒ QQï¼ˆQmsgï¼‰å’Œå¾®ä¿¡ï¼ˆServeré…±ï¼‰ æ¨é€  
* æ”¯æŒå¤šè´¦å· 

## å·²æ”¯æŒç«™ç‚¹
| åç§°      | ç±»å‹   | å¤‡æ³¨                                       |
|---------|------|------------------------------------------|
| ç™¾åº¦è´´å§    | ğŸ’»   |                                          |
| å“”å“©å“”å“© ä¸»ç«™ | ğŸ’»   | ç¡¬å¸+1                                     |
| å“”å“©å“”å“© ç›´æ’­ | ğŸ’»   | è¾£æ¡&ç»éªŒï¼ˆCookie ä¸ä¸»ç«™ç›¸åŒï¼‰                      |
| å“”å“©å“”å“© æ¼«ç”» | ğŸ“±   | ç­¾åˆ°ä¸ƒå¤©ï¼Œæ¼«åˆ¸+1ï¼ˆCookie ä¸ä¸»ç«™ç›¸åŒï¼‰                  |
| æ¯•æ–¹      | ğŸ’»   |                                          |
| QQ éŸ³ä¹   | ğŸ“±   | ç”¨ç½‘é¡µç‰ˆçš„ Cookie ä¹Ÿå¯ä»¥ï¼Œ**æ³¨æ„ç­¾åˆ°å¥–åŠ±ä¸ä¼šè‡ªåŠ¨é¢†å–ï¼ˆéœ€è¦éªŒè¯ç ï¼‰** |
| ç½‘æ˜“äº‘éŸ³ä¹   | ğŸ’»ğŸ“± |                                          |
| ç½‘æ˜“äº‘æ¸¸æˆ   | ğŸ’»   | **æ”¶é›† authorization å¤´ï¼Œè€Œä¸æ˜¯ cookie å¤´**      |
| å¾®åšè¶…è¯    | ğŸ’»   |                                          |
| ç²¾æ˜“è®ºå›    | ğŸ’»   | ä¸èƒ½ç”¨å›½å¤– IP                                 |


## å®‰è£…
1. Clone é¡¹ç›®åˆ°ä»»æ„ä¸€ä¸ªæ”¯æŒ curl çš„ PHP ç©ºé—´/VPS ä¸Š  
2. æŒ‰ç…§æ³¨é‡Šä¿®æ”¹`conf.php`çš„å†…å®¹ï¼Œå¡«å¥½ cookie  
3. å¯é€‰ï¼šæ­å»º PHP æœåŠ¡å™¨
4. è‹¥æ­å»ºäº†æœåŠ¡å™¨ï¼Œå®šæ—¶è®¿é—®`http://localhost/start.php`ï¼›è‹¥æ²¡æœ‰ï¼Œå®šæ—¶è¿è¡Œ `php start.php`

**è¦æ±‚ PHP ç‰ˆæœ¬ >= 7**  
**è¯¦ç»†æ­¥éª¤è§ [å®‰è£… - Wiki](https://github.com/XcantloadX/AutoCloudSign/wiki/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B)**

## è‡ªå®šä¹‰
æœ¬é¡¹ç›®æ”¯æŒè‡ªå®šä¹‰ç­¾åˆ°è„šæœ¬  
æ–°å»ºä¸€ä¸ª php è„šæœ¬æ”¾åœ¨ `/script` ç›®å½•ä¸‹  

```php
<?php
//@id è„šæœ¬ID
//@name è„šæœ¬åç§°
//@icon è„šæœ¬å›¾æ ‡ï¼Œç›®å‰ä¿ç•™
//@site ç›®æ ‡ç½‘ç«™åŸŸåï¼Œç›®å‰ä¿ç•™

//ç±»åå¿…é¡»å’Œ ID ä¸€æ ·ï¼Œå¤§å°å†™å¿…é¡»ç›¸åŒï¼
//æ–‡ä»¶åå¿…é¡»å’Œ ID ä¸€æ ·ï¼Œè€Œä¸”æ–‡ä»¶åå¿…é¡»å…¨å°å†™ï¼
class NAME extends Runner {
    public function run(string $aid, array $data) {
        //è‹¥ä½¿ç”¨ cookies.phpï¼š
        //åœ¨ cookies.php ä¸‹é¢æ–°å¢ä¸€æ¡å˜é‡ $IDå = array();
        //è‹¥ä½¿ç”¨ accounts.jsonï¼ˆé€šè¿‡ UI è®¾ç½®ï¼‰ï¼š
        //æ— éœ€ç‰¹åˆ«æ“ä½œ
        
        //$aid ä¸ºè´¦å· IDï¼ˆaccount idï¼‰
        //$data ä¸ºå¯¹åº”è´¦å·çš„ä¿¡æ¯ï¼Œç»“æ„å¦‚ä¸‹
        /* {
         * "id": "è„šæœ¬ID",
         * "name": "ç¤ºä¾‹è´¦å·",
         * "cookie": "*****",
         * "note": "ç”¨æˆ·å¤‡æ³¨",
         * "data": "è„šæœ¬æ•°æ®ï¼Œä¸åŒè„šæœ¬çš„æ•°æ®å¯ä»¥æœ‰ä¸åŒçš„ä½œç”¨ï¼ˆæš‚æ—¶æœªå®ç°ï¼‰"
         * }
         */
        parent::run($aid, $data);
        //ç­¾åˆ°...
        //.................
        $this->session->get("URL_HERE", array("HEADER" => "VALUE")); //GET è¯·æ±‚
        $this->session->post("URL_HERE", array("HEADER" => "VALUE"), "DATA"); //POST è¯·æ±‚
        //HTTP è¯·æ±‚å¤´é‡Œä¸éœ€è¦åŠ  Cookieï¼ŒCookie ä¼šè‡ªåŠ¨è®¾ç½®
        //è‹¥æœ‰æ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦çš„è¯·æ±‚å¤´ï¼Œè°ƒç”¨ $this->session->headers["xxxx"] = "xxxx";

        //$this->notification ä¸ºé€šçŸ¥æ¨é€ç±»ï¼Œç”¨æ³•å‚è€ƒ /lib/notification.php
        $this->notification->append("è´¦å· @".$data["name"]." ç­¾åˆ°æˆåŠŸ", "%s", "### %s");
    }
}
```


## å‚è€ƒé¡¹ç›®
* [BiliExp](https://github.com/MaxSecurity/BiliExper)
* [netease-cloud-api](https://github.com/ZainCheung/netease-cloud-api)
